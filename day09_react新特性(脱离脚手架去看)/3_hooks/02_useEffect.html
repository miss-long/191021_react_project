<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>useEffect</title>
</head>
<body>

<div id="demo"></div>

<script type="text/javascript" src="../js/react.development.js"></script>
<script type="text/javascript" src="../js/react-dom.development.js"></script>
<script type="text/javascript" src="../js/babel.min.js"></script>


<script type="text/babel">

class Count extends React.Component {
	state = {count: 0}

	add = ()=>{
		this.setState({count:this.state.count + 1})
	}

	death = ()=>{
		ReactDOM.unmountComponentAtNode(document.getElementById('demo'))
	}

	componentDidMount(){
		this.timer = setInterval(() => {
			this.setState({count:this.state.count+1})
		},1000);
	}

	componentWillUnmount(){
		clearInterval(this.timer)
	}

	render () {
		return (
			<div>
				<h2>你点击了 {this.state.count} times</h2>
				<button onClick={this.add}>
					点我
				</button>
				<button onClick={this.death}>不活了</button>
			</div>
		)
	}
}

ReactDOM.render(<Count/>,document.getElementById('demo'))
</script>
</body>
</html>

